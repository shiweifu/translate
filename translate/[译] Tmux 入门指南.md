翻译自：[Gentle Guide to Get Started With tmux | Pragmatic Pineapple 🍍](https://pragmaticpineapple.com/gentle-guide-to-get-started-with-tmux/)



你访问到这里，很可能是因为你想提高一下你的命令行操作技能水平。恰好，这也是我编写此文的目的。从我开始学习编程开始，我一直是终端的用户，这也很棒。当我登录 shell，我的感觉像是在家里。今天，我们的终端体验更好了。我们将通过使用 tmux 这个伟大工具，来提升我们的终端水平。



### 什么是  tmux



tmux 是一个终端复用工具，就像终端的桌面管理器。它使得我们可以在一个终端窗口中，打开多个会话。它使得其他程序可以从中运行，允许您可以操纵他们。这个功能，是大多数人日常使用的 tmux 功能之一。



但是，除了作为窗口管理器之外，tmux 还可以执行以下操作：保护在远程服务器上，使用 tmux 运行的程序。当你连接上服务器之后，你去和咖啡、吃午餐了，当你回来的时候，会话被冻结或者失去响应了。你想要允许用户使用不同计算机，来访问正在远程服务器上，运行的程序。



今天，我们将关注 tmux 作为窗口管理器的方面。在未来的日志中，我们将覆盖一些 tmux 使用的高级特性，以及这些特性如何使您受益。



### 安装



你可以在所有平台上，使用包管理器安装 tmux，但让我们来介绍一下最著名的平台。在 Debian 或者 Ubuntu 上，您可以执行以下操作来安装：



```
apt install tmux
```



在 macOS 平台，你可以使用 homebrew 来安装：

```bash
brew install tmux
```

检查是否安装成功，使用下面语句：

```bash
man tmux
```

如果你看到以下输出：

![tmux Manual](https://pragmaticpineapple.com/static/ae6a05c1f9c95c209fb3832546f20767/fcda8/tmux-manual.png)tmux Manual



标识你已经安装成功。



### 开始使用 tmux

我们通过在终端中，使用 tmux 命令来启动 tmux，以查看它的全部内容。启动之后，您可以看到终端中的内容都保持不变，只是底部多了一条绿线。我们将 tmux 服务端作为客户端连接上去。tmux 在背景中的特定 PID 上运行一个服务端，当我们键入 tmux 时，我们会自动运行服务器，并连接。



因此，我们从一个名为0的会话连接到tmux服务器，正如您在屏幕的[0]部分中所看到的那样。因此tmux充当了某种标准终端会话的中转。让我们来看看当您进入一个tmux会话时会得到什么

## 



![start of a tmux session](https://pragmaticpineapple.com/static/e4c73d188da821d90805be205502967a/fcda8/tmux-start.png)



在左下角，您可以看到[0]，它表示会话。紧挨着它的是0:zsh，显示哪个窗口正在打开，以及哪个程序正在那里运行。我们刚刚开始这个会话，所以我们只打开了一个窗口，并且zsh正在那里运行。



你可以继续使用终端，就像往常一样，但那样会很无聊，对吧?让我们学习一两件在tmux初学者可以做的事情。我想让我们经历在tmux中创建和移动窗格的过程。



### Pane Management



如果您在那里使用过iTerm2并使用了窗格分割，那么您会非常喜欢这个特性。在tmux中基本相同，唯一的区别是用于创建新窗格的快捷方式。在iTerm2中，可以执行cmd + d和cmd + shift + d来垂直和水平拆分窗格。



#### 创建面板



在TMUX中，您可以为垂直分割和Ctrl-B的CTRL-B％进行水平拆分。您将看到所有快捷方式以Ctrl-B或CB开头，以便简单。要使CB快捷方式工作，您需要要同时按下控制键和B键，那么您可以按下以下字符或符号“以水平拆分。例如。C-B信号TMUX您即将发送其捷径。让我们在下面一起尝试这个功能：



![How to split panes in tmux](https://pragmaticpineapple.com/fe551e859dcc211d440b0ea4faa4b7e6/tmux-splitting-panes.gif)



如果出于某种原因不喜欢使用快捷方式，可以输入tmux split-window -h来进行水平拆分，输入tmux split-window -v来进行垂直拆分。



#### 移动面板



我们可能在上面的GIF中推得太多了，但你明白我的意思。现在，最重要的部分——如何移动?不要担心，默认情况下它比在iTerm2中更容易。使用C-b和左、右、上、下箭头。C-b箭头-左，C-b箭头-右，以此类推。



#### 关闭面板

如果完成了一个窗格，只需按Ctrl-d，它就会关闭。现在让我们尝试创建一个新窗口。



#### 窗口管理



tmux中的窗口与iTerm2中的选项卡非常相似。它是一个新的画布，您可以将其拆分为窗格并运行命令。你一定在问-我如何创建一个



#### 创建窗口



只需执行c -b - c，就会形成一个新窗口。你可以试几次。我也做了类似的事情，只是我在每个窗口都打开了一个程序，看看它们之间的区别。让我们来看看下面的内容。



![Windows in tmux](https://pragmaticpineapple.com/static/6eacae7511103447913570a212b5a361/fcda8/tmux-windows.png)



您可以在tmux状态行中看到以下文本。

```bash
0:zsh  1:vim* 2:ed- 3:ruby
```



zsh显示第一个只运行zsh的窗口。1:vim*让我们在第二个窗口中，我们让vim运行，星号*表示它是活动窗口。2:ed-做同样的，除了仪表板-告诉我们它是最后一个窗口。另一个问题现在强加在自己身上——我们如何改变窗口。



#### 浏览窗口



别担心，有我在。您可以以多种方式更改窗口，但我认为这是最有效的。你可以使用C-b和一个窗口的索引的组合，例如C-b 1去到在tmux状态行中标记为1的窗口。因此，在我们的例子中，C-b 0将打开zsh打开的窗口，因为它在屏幕底部的tmux状态行中显示为0:zsh。



#### tmux 会话



Tmux的灵活会话不是很好。您可以随时附加和分离会话。大多数人都称赞tmux的会话管理。把会议想象成你工作的不同领域。例如，一个会话可以与您运行前端、后端、编辑器、测试等的私有web项目相关。另一个会话可以是某个服务器上的SSH会话，您可以在其中搞乱基础设施。



#### 从会话依附和分离



要感受会话的威力，可以在另一个终端窗口或选项卡中启动tmux(假设从上面的示例中运行了一个会话)。如果您现在按C-b - d，您将看到以下内容



```
$ tmux
[detached (from session 1)]
```



很好，我们脱离了刚刚创建的会话。现在在同一个终端窗口中，键入tmux ls。



```bash
$ tmux ls
0: 4 windows (created Thu Aug 12 20:08:22 2021) (attached)
1: 1 windows (created Thu Aug 12 20:15:03 2021)
```



第一个标记为0的会话表示我们有四个窗口打开，并且我们连接到它。但是标记为1(1)的第二个会话没有附加。使用C-b d，我们与标记为1的会话分离，并使用tmux ls列出所有可用的会话。多么整洁啊，现在我们可以把工作组织得更好了。



如果你不喜欢会话的默认命名，比如0和1，你可以使用tmux new -s heythere来给会话命名。现在创建的会话将获得heythere名称。我们可以通过分离(C-b - d)并再次运行tmux ls来看到这一点。



```bash
$ tmux ls
0: 4 windows (created Thu Aug 12 20:08:22 2021) (attached)
1: 1 windows (created Thu Aug 12 20:15:03 2021)
heythere: 1 windows (created Thu Aug 12 20:21:09 2021)
```



然后，我们可以很容易地附加到heythere会话



```bash
tmux attach -t heythere
```

​	

我们又回到了heythere环节。很酷,对吧?我想这对一个人来说已经足够了。我们的终端有很多东西需要处理和使用。我决定我们再聚一聚，试着用几天或几周。



#### 最终思考



这应该是开始使用tmux的地方。在下一篇博文之前，我想提一件可能对你和我都有帮助的事情。如果你曾经迷路或忘记了捷径，还有C-b ?显示可以使用的命令列表的快捷方式。这是它的样子



![tmux help screen](https://pragmaticpineapple.com/static/51566672227162a766a78c522a4b386c/fcda8/tmux-help.png)



另外，如果您正在使用iTerm2，另一件要检查的好事情是它与tmux的集成。更多内容可在iTerm2文档中阅读。



我计划写一篇后续博文，介绍tmux的一些高级用法。如果你喜欢这一篇，并希望看到另一篇博客文章，考虑加入时事通讯，当它发布时，它会通知你。



和往常一样，不要忘记与你的朋友或同事分享它。这里有一条推文，你可以发送，比如，转发，忽略，或者任何你想要的。