[Learning Containers From The Bottom Up (iximiuz.com)](https://iximiuz.com/en/posts/container-learning-path/)



当我在2015年开始使用容器时，我最初的理解是，它们只是启动时间低于秒的轻量级虚拟机。有了这样一个粗略的想法，就很容易按照互联网上的教程，学习如何将Python或Node.js应用程序放入容器中。但是很快，我意识到把容器看作vm是一种过于简单化的做法，这是有风险的，因为我无法做出判断：



- 容器可以做什么，不能做什么
- 什么是容器的习惯用法，什么不是
- 用集装箱运输什么安全，什么不安全。



由于“容器是VM”的抽象被证明是相当有漏洞的，我不得不开始研究这项技术的内部原理，以了解容器到底是什么，而Docker是最明显的出发点。但是Docker是一个做各种各样事情的庞然大物，而Docker运行nginx表面上的简单性可能是欺骗性的。有很多关于Docker的资料，但大部分都是：



- 容器可以做什么，不能做什么
- 什么是容器的惯用方法，什么是不合理的方法
- 什么是安全运行容器的环境，什么是不安全的环境



由于”容器是VM“的抽象被证明是相当有漏洞的，我不得不开始研究这项技术的内部原理，以了解容器到底是什么，而Docker是最明显的出发点。但是Docker是一个做各种各样事情的庞然大物，而Docker运行nginx表面上的简单性可能是欺骗性的。有很多关于Docker的资料，但大部分都是：



- 要么是浅显的入门教程
- 要么对新手难以理解



我试着从不同的角度来处理这个领域，多年来，我终于找到了一条适合我的学习之路。不久前，我在Twitter上分享了这条路径，显然，它引起了很多人的共鸣：



本文并不是试图一蹴而就地解释容器。相反，它是我多年来对这个领域的研究的头版。它概述了上述的学习路径，然后引导你通过它，并指出在同一博客上更深入的文章。



掌握容器并不是一项简单的任务，所以不要着急，不要跳过动手操作的部分。



#### 容器学习路径



我发现下面的学习顺序特别有用：



- Linux容器——学习底层实现的细节。

- 容器图像——了解什么是图像以及为什么需要它们。
- 容器管理器——了解Docker如何帮助容器在单个主机上共存。
- 容器协调器——学习Kubernetes如何在集群中协调容器。非linux容器——学习其他实现来完成这个循环。



#### 容器不是虚拟机



容器是一个隔离的(名称空间)和受限制的(cgroups, capabilities, seccomp)进程。



以上的解释对我理解容器有很大帮助。当然，它不是非常准确，正如您将在本文末尾看到的那样，但在一开始，它非常适合学习目标。



![Containers work the same way on developer's laptop, CI/CD servers, and Kubernetes clusters running in the cloud.](https://iximiuz.com/container-learning-path/container-2000-opt.png)



[要启动一个 Linux 进程，你需要 fork/exec](https://iximiuz.com/en/posts/how-to-on-processes/)。但要启动一个容器化进程，首先需要创建名称空间、配置cgroups等。或者，换句话说，为进程在其中运行准备一个方框。容器运行时是一种用于创建此类盒的特殊类型(相当低级的)软件。典型的容器运行时知道如何准备容器，以及如何在其中启动容器化的进程。





